(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{22:function(e,t,n){e.exports=n(37)},23:function(e,t,n){},28:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);n(23);var a=n(0),o=n.n(a),r=n(19),i=n.n(r),c=n(5),s=n(12);n(28);function l(){return o.a.createElement("section",{className:"about-section"},o.a.createElement("div",{className:"hero-content"},o.a.createElement("h2",null,"Welcome to the FIFO Petful adoption center!"),o.a.createElement("p",null,"We are a first-come-first-serve practicing agency. This means that you will be able to adopt the pets that are in front of the line if nobody is in front of you!"," "),o.a.createElement("p",null,"Click the button below to see the pets currently looking for a home and to get in the line to adopt!")),o.a.createElement(s.b,{to:"/adoption"},"Adopt a pet"))}var u=n(7),p=n(8),h=n(10),m=n(9),d=n(11),f=(n(34),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"pet"},o.a.createElement("img",{src:this.props.pet.imageURL,alt:this.props.pet.description}),o.a.createElement("h3",null,this.props.pet.name),o.a.createElement("div",{className:"pet-details"},o.a.createElement("p",null,"Age: ",this.props.pet.age),o.a.createElement("p",null,"Breed: ",this.props.pet.breed),o.a.createElement("p",null,"Gender: ",this.props.pet.gender),o.a.createElement("p",null,"Description: ",this.props.pet.description),o.a.createElement("p",null,"Story: ",this.props.pet.story)),!0===this.props.atFront&&o.a.createElement("button",{onClick:function(){return e.props.handleAdopt(e.props.type)}},"Adopt"))}}]),t}(o.a.Component));f.defaultProps={pet:{name:"",age:"",breed:"",description:"",gender:"",imageURL:"",story:""}};var g="https://pb-petful.herokuapp.com",y=void 0,E={getAllPets:function(){return fetch("".concat(g,"/pets")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){return console.error(e)}))},getAllPeople:function(){return fetch("".concat(g,"/people")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){return console.error(e)}))},queuePerson:function(e){return fetch("".concat(g,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({person:e})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){return console.error(e)}))},dequeuePerson:function(){return fetch("".concat(g,"/people"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){return console.error(e)}))},dequeuePet:function(e){return fetch("".concat(g,"/pets"),{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify({type:e})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){return console.error(e)}))},queue4:function(){y.queuePerson("Dave"),y.queuePerson("Tyler"),y.queuePerson("Doug"),y.queuePerson("Matt")}},S=(n(35),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"adoption-queue"},"Current Adoption Queue:",o.a.createElement("div",{className:"queue-people"},this.props.people.map((function(e,t){return o.a.createElement("p",{key:t},t+1," : ",e)}))))}}]),t}(o.a.Component));S.defaultProps={people:[]};n(36);var v=["Adam","Alex","Aaron","Ben","Carl","Dan","David","Edward","Fred","Frank","George","Hal","Hank","Ike","John","Jack","Joe","Larry","Monte","Matthew","Mark","Nathan","Otto","Paul","Peter","Roger","Roger","Steve","Thomas","Tim","Ty","Victor","Walter"],b=["Anderson","Ashwoon","Aikin","Bateman","Bongard","Bowers","Boyd","Cannon","Cast","Deitz","Dewalt","Ebner","Frick","Hancock","Haworth","Hesch","Hoffman","Kassing","Knutson","Lawless","Lawicki","Mccord","McCormack","Miller","Myers","Nugent","Ortiz","Orwig","Ory","Paiser","Pak","Pettigrew","Quinn","Quizoz","Ramachandran","Resnick","Sagar","Schickowski","Schiebel","Sellon","Severson","Shaffer","Solberg","Soloman","Sonderling","Soukup","Soulis","Stahl","Sweeney","Tandy","Trebil","Trusela","Trussel","Turco","Uddin","Uflan","Ulrich","Upson","Vader","Vail","Valente","Van Zandt","Vanderpoel","Ventotla","Vogal","Wagle","Wagner","Wakefield","Weinstein","Weiss","Woo","Yang","Yates","Yocum","Zeaser","Zeller","Ziegler","Bauer","Baxster","Casal","Cataldi","Caswell","Celedon","Chambers","Chapman","Christensen","Darnell","Davidson","Davis","DeLorenzo","Dinkins","Doran","Dugelman","Dugan","Duffman","Eastman","Ferro","Ferry","Fletcher","Fietzer","Hylan","Hydinger","Illingsworth","Ingram","Irwin","Jagtap","Jenson","Johnson","Johnsen","Jones","Jurgenson","Kalleg","Kaskel","Keller","Leisinger","LePage","Lewis","Linde","Lulloff","Maki","Martin","McGinnis","Mills","Moody","Moore","Napier","Nelson","Norquist","Nuttle","Olson","Ostrander","Reamer","Reardon","Reyes","Rice","Ripka","Roberts","Rogers","Root","Sandstrom","Sawyer","Schlicht","Schmitt","Schwager","Schutz","Schuster","Tapia","Thompson","Tiernan","Tisler"],P=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={pets:{cats:[],dogs:[]},people:[],name:"",adoptionMessage:!1,waiting:!1,inLine:!1,atFront:!1},n.dqPair=function(){var e=["cat","dog"],t=e[Math.floor(Math.random()*e.length)];E.dequeuePet(t).then((function(){E.getAllPets().then((function(e){n.setState({pets:e})})).catch((function(e){return n.setState({error:e})}))}))},n.handleSubmit=function(e){e.preventDefault(),E.queuePerson(n.state.name).then((function(){E.getAllPeople().then((function(e){n.setState({people:e,inLine:!0,waiting:!0})})).catch((function(e){return n.setState({error:e})}))})),n.moveQueue()},n.handleAdopt=function(e){n.setState({adoptionMessage:!0}),setTimeout((function(){E.dequeuePet(e).then((function(){E.getAllPets().then((function(e){n.setState({pets:e})})).catch((function(e){return n.setState({error:e})}))})).then((function(){E.dequeuePerson().then((function(){E.getAllPeople().then((function(e){n.setState({people:e,name:"",inLine:!1,atFront:!1,adoptionMessage:!1})})).catch((function(e){return n.setState({error:e})}))}))}))}),3e3)},n.moveQueue=function(){n.interval=setInterval((function(){E.dequeuePerson().then((function(){n.dqPair()})).then((function(){E.getAllPeople().then((function(e){n.setState({people:e}),e[0]===n.state.name&&(n.setState({atFront:!0,waiting:!1}),clearInterval(n.interval),n.fillQueue())})).catch((function(e){return n.setState({error:e})}))}))}),5e3)},n.fillQueue=function(){n.interval=setInterval((function(){var e=v[Math.floor(Math.random()*v.length)],t=b[Math.floor(Math.random()*b.length)];E.queuePerson("".concat(e," ").concat(t)).then((function(){E.getAllPeople().then((function(e){n.setState({people:e}),5===e.length&&clearInterval(n.interval)})).catch((function(e){return n.setState({error:e})}))}))}),5e3)},n.handleFormChange=function(e){e.preventDefault(),n.setState({name:e.target.value})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.getAllPets().then((function(t){e.setState({pets:t})})).catch((function(t){return e.setState({error:t})})),E.getAllPeople().then((function(t){e.setState({people:t})})).catch((function(t){return e.setState({error:t})}))}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"adoption-header"},o.a.createElement("h2",null,"Pets currently up for adoption:")),o.a.createElement("div",{className:"animals-section"},o.a.createElement(f,{pet:this.state.pets.cats[0],type:"cat",atFront:this.state.atFront,handleAdopt:this.handleAdopt}),o.a.createElement(f,{pet:this.state.pets.dogs[0],type:"dog",atFront:this.state.atFront,handleAdopt:this.handleAdopt})),o.a.createElement("div",{className:"message"},!1!==this.state.atFront&&!1===this.state.adoptionMessage&&o.a.createElement("h2",{style:{color:"green"}},"Your turn! Please choose a pet."),!1!==this.state.adoptionMessage&&o.a.createElement("h2",{style:{color:"green"}},"Congratulations, your adoption was accepted!"),!1!==this.state.waiting&&o.a.createElement("h2",{style:{color:"orange"}},"Please wait...")),!1===this.state.inLine&&o.a.createElement("form",{className:"adopt-form",onSubmit:this.handleSubmit},o.a.createElement("h4",null,"Join the line to adopt!"),o.a.createElement("label",{htmlFor:"name"},"Your name:"),o.a.createElement("input",{id:"name",type:"text",onChange:function(t){return e.handleFormChange(t)}}),o.a.createElement("button",{type:"submit"},"Submit")),o.a.createElement(S,{people:this.state.people}))}}]),t}(o.a.Component);var k=function(){return o.a.createElement("div",null,o.a.createElement(c.a,{exact:!0,path:"/",component:l}),o.a.createElement(c.a,{path:"/adoption",component:P}))};i.a.render(o.a.createElement(s.a,null,o.a.createElement(k,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.999632a1.chunk.js.map